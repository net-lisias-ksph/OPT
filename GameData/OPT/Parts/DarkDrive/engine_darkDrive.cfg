PART
{

// --- general parameters ---
name = engine_darkDrive
module = Part
author = K.Yeon

// --- asset parameters ---
mesh = engine_darkDrive.mu
scale = 1.0
    rescaleFactor = 1


// --- node definitions ---
// definition format is Position X, Position Y, Position Z, Up X, Up Y, Up Z

node_stack_top = 0.0, -1.55334, 0.0, 0.0, 1.0, 0.0,4


// --- Sound FX definition ---

sound_vent_medium = engage
sound_rocket_hard = running
sound_vent_soft = disengage
sound_explosion_low = flameout

// --- editor parameters ---
mass = 20
dragModelType = default 
maximum_drag = 0.01
minimum_drag = 0.01
angularDrag = 1
crashTolerance = 20 
maxTemp = 3600


TechRequired = hypersonicFlight
entryCost = 1320000
cost = 120000
category = Propulsion
subcategory = 0
title = OPT Dark Drive
manufacturer = OPT Propulsion Science Division
description = After decades of research and experiments on the Mystery Goo, scientest are now able to refine it into 'Dark Goos' and put it in good use. This new type of goo feeds on rocket fuel and produces something much more interesting. Even though Dark Goo is no longer fictional, the failure rate of refining is still extremely high, making Dark goos one of the rarest and most expensive substance known to Kerbal kind.
// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
attachRules = 1,0,1,0,0
  EFFECTS
    {
        throttleControlledFlame
        {

            AUDIO
            {
		name = soundone
                channel = Ship
                //clip = sound_jet_low
		clip = OPT/Sounds/scifi_loop
                volume = 0.0 0.0
		volume = 0.1 0.5
		volume = 0.6 1
                volume = 0.8 2
		volume = 1 3
                pitch = 0.0 1
		pitch = 0.5 1.2
                pitch = 1.0 1.3
		pitch = 1.7 3
                loop = true
                speed = 0.0 1.70
                speed = 1.0 2
            }
	}
        powersmoke
        {
            MODEL_MULTI_PARTICLE
            {
                name = flamethrustlight
                modelName = OPT/FX/Light
                transformName = thrustTransform
                emission = 0.0 0.1
                emission = 0.1 1 1.5
                emission = 0.3 2 2.5
                emission = 0.31 0
            }
            MODEL_MULTI_PARTICLE
            {
                name = flamethrust
                modelName = OPT/FX/Blackhole
                transformName = thrustTransform
                emission = 0 0
                emission = 0.2999 0
                emission = 0.3 2 2.5
                emission = 1 3 3.2
                speed = 0 1.72
                speed = 1 1.98
                energy = 0 0.2
                energy = 1 1
            }
            AUDIO
            {
		name = rocketsound
                channel = Ship
                clip = sound_rocket_mini
                volume = 0.0 0.0
                volume = 1.0 0.8
		volume = 1.7 0.2
                pitch = 0.0 0.2
                pitch = 1.0 0.3
		pitch = 1.7 0.4
                loop = true
            }
            AUDIO
            {
		name = soundtwo
                channel = Ship
                //clip = sound_jet_low
		clip = OPT/Sounds/scifi_loop
                volume = 0.0 0.0
		volume = 0.1 0.5
		volume = 0.6 1
                volume = 1.0 2
                pitch = 0.0 2
		pitch = 0.5 3
                pitch = 1.0 4
                loop = true
                speed = 0.0 0.75
                speed = 1.0 2.5
            }
        }
        engage
        {
            AUDIO
            {
		name = engageengine
                channel = Ship
                clip = sound_vent_soft
                volume = 0.2
                pitch = 0.4
                loop = false
            }
        }
        disengage
        {
            AUDIO
            {
                channel = Ship
                clip = sound_vent_soft
                volume = 0.1
                pitch = 0.6
                loop = false
		speed = 1 0.2
            }
        }
        flameout
        {
            AUDIO
            {
                channel = Ship
                clip = sound_explosion_low
                volume = 0.3
                pitch = 2.0
                loop = false
            }
        }
    }
    MODULE
    {
	name = ModuleEnginesFX
	engineID = AirAugmentedRocket
	thrustVectorTransformName = thrustTransform
	runningEffectName = powersmoke
	FlameoutEffectName = flameout
	directThrottleEffectName = throttleControlledFlame
	engageEffectName = engage
	exhaustDamage = True
	ignitionThreshold = 0.15
	minThrust = 0
	maxThrust = 1500
	heatProduction = 550
	useEngineResponseTime = True
	engineAccelerationSpeed = 1
	engineDecelerationSpeed = 0.75
	useVelocityCurve = True
	PROPELLANT
	{
		name = LiquidFuel
		ratio = 0.9
		DrawGauge = True
	}
	PROPELLANT
	{
		name = Oxidizer
		ratio = 1.1
	}
	velocityCurve
	{
		key = 1 1
		key = 0 1
	}
	atmosphereCurve
 	{
		key = 0 2800
		key = 0.1 2000
		key = 1 400
 	}
	
    }
  //  MODULE
  //  {
   // name = ModuleAnimateHeat
   // ThermalAnim = arie_engine
   // }


MODULE
{
	name = ModuleTestSubject
	
	// nowhere: 0, srf: 1, ocean: 2, atmo: 4, space: 8
	environments = 15
	
	useStaging = True
	useEvent = True
}
}