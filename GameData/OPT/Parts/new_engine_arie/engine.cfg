PART
{

// --- general parameters ---
name = AAengine
module = Part
author = K.Yeon

// --- asset parameters ---
mesh = engine_arie.mu
scale = 1.0
rescaleFactor = 1


// --- node definitions ---
// definition format is Position X, Position Y, Position Z, Up X, Up Y, Up Z

node_stack_top = 0.0, 1.961987, 0.0, 0.0, 1.0, 0.0

// --- FX definitions ---

fx_exhaustFlame_blue = 0.0, -0.0, 0.0, 0.0, 1.0, 0.0, running
fx_exhaustLight_blue = 0.0, -0.0, 0.0, 0.0, 0.0, 1.0, running
fx_smokeTrail_light = 0.0, -0.0, 0.0, 0.0, 1.0, 0.0, running
fx_exhaustSparks_flameout = 0.0, -0.0, 0.0, 0.0, 1.0, 0.0, flameout

// --- Sound FX definition ---

sound_vent_medium = engage
sound_rocket_hard = running
sound_vent_soft = disengage
sound_explosion_low = flameout

// --- editor parameters ---
mass = 1.85
dragModelType = default 
maximum_drag = 0.01
minimum_drag = 0.01
angularDrag = 1
crashTolerance = 20 
maxTemp = 3600


TechRequired = hypersonicFlight
entryCost = 42000
cost = 3850
category = Propulsion
subcategory = 0
title = OPT "ARIE" Engine
manufacturer = OPT Propulsion Science Division
description = The "ARIE", or Air-augmented Rocket Initiated Engine, is OPT's latest ground-breaking air breathing engine. It consumes both oxidizer and liquid fuel when active, and its efficiency is dependent on the amount of air available; in space, it behaves just like a normal rocket. Warranty does not cover actual ground breaking.
// attachment rules: stack, srfAttach, allowStack, allowSrfAttach, allowCollision
attachRules = 1,0,1,1,0
EFFECTS
{
        throttleControlledFlame
        {
            MODEL_MULTI_PARTICLE
            {
                name = flamethrust
                modelName = OPT/FX/RedGreenFlame
                transformName = FXNode
                emission = 0.0 0 0
                emission = 0.1 3 4
                emission = 0.75 4 5
                emission = 1.0 6
                speed = 0.0 0.7
                speed = 0.4 1
            }
            AUDIO
            {
		name = jetscream
                channel = Ship
                clip = sound_jet_low
                volume = 0.0 0.0
		volume = 0.1 0.4
		volume = 0.6 0.8
                volume = 1.0 0.3
		volume = 1.5 0.2
                pitch = 0.0 0.1
		pitch = 0.5 0.2
                pitch = 1.0 0.3
		pitch = 1.7 3
                loop = true
                speed = 0.0 1.70
                speed = 1.0 1.65
            }
	}
        powersmoke
        {
            PREFAB_PARTICLE
            {
                name = flamethrust2
                prefabName = fx_smokeTrail_light
                transformName = SmokeTransform
                emission = 0.0 0.0
                emission = 0.05 0.0
                emission = 0.075 0.25
                emission = 1.0 1.25
		emission = 1.7 2
                speed = 0.0 0.25
                speed = 1.0 1.0
            }
            AUDIO
            {
		name = jethumm //Ram effect
                channel = Ship
                clip = sound_jet_deep
                volume = 0.0 0.0
		volume = 0.1 1
                volume = 1.0 1.5
		volume = 1.7 2.5
                pitch = 0.0 0.8
		pitch = 0.5 1
                pitch = 1.0 3
		pitch = 1.7 5
                loop = true
                speed = 0.0 1.70
                speed = 1.0 1.95
            }
            AUDIO
            {
		name = jetscreamHighSpeed
                channel = Ship
                clip = sound_jet_low
                volume = 0.9 0.0
                volume = 1.0 0.1
		volume = 1.7 2
                pitch = 0.9 1.5
		pitch = 1.7 3
                loop = true
                speed = 0.0 1
                speed = 1.0 1
            }
            AUDIO
            {
		name = rocketsound
                channel = Ship
                clip = sound_rocket_mini
                volume = 0.0 0.0
                volume = 1.0 0.8
		volume = 1.7 0.2
                pitch = 0.0 0.2
                pitch = 1.0 0.3
		pitch = 1.7 0.4
                loop = true
            }
        }
        engage
        {
            AUDIO
            {
		name = engageengine
                channel = Ship
                clip = sound_vent_soft
                volume = 0.2
                pitch = 0.4
                loop = false
            }
        }
        disengage
        {
            AUDIO
            {
                channel = Ship
                clip = sound_vent_soft
                volume = 0.1
                pitch = 0.6
                loop = false
		speed = 1 0.2
            }
        }
        flameout
        {
            AUDIO
            {
                channel = Ship
                clip = sound_explosion_low
                volume = 0.3
                pitch = 2.0
                loop = false
            }
        }
}
    MODULE
    {
	name = ModuleEnginesFX
	thrustVectorTransformName = thrustTransform
	runningEffectName = powersmoke
	FlameoutEffectName = flameout
	directThrottleEffectName = throttleControlledFlame
	engageEffectName = engage
	exhaustDamage = True
	ignitionThreshold = 0.01
	minThrust = 0
	maxThrust = 290
	heatProduction = 450
	useEngineResponseTime = True
	engineAccelerationSpeed = 0.55
	engineDecelerationSpeed = 1
	useVelocityCurve = True
	PROPELLANT
	{
		name = LiquidFuel
		ratio = 0.9
		DrawGauge = True
	}
	PROPELLANT
	{
		name = Oxidizer
		ratio = 1.1
		DrawGauge = True
	}
	atmosphereCurve
 	{
		key = 0 370
		key = 0.1 2300
		key = 1 1500
 	}
	velocityCurve
	{
		key = 0 0.8 0 0
		key = 500 1 0 0
		key = 1000 1.2 0 0
		key = 3000 0.8 0 0

	}
	
    }
    MODULE
    {
    name = ModuleAnimateHeat
    ThermalAnim = arie_engine
    }


MODULE
{
	name = ModuleTestSubject
	
	// nowhere: 0, srf: 1, ocean: 2, atmo: 4, space: 8
	environments = 15
	
	useStaging = True
	useEvent = True
}
}